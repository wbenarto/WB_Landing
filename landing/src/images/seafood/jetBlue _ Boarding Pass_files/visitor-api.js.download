/* eslint-disable */
'use strict';

/*
 ============== DO NOT ALTER ANYTHING BELOW THIS LINE ! ============

 Adobe Visitor API for JavaScript version: 2.0.0
 Copyright 1996-2015 Adobe, Inc. All Rights Reserved
 More info available at http://www.omniture.com
*/
function Visitor(s, w) {
  function y(a) {
    function c(a, d, b) {
      b = b ? (b += '|') : b;
      return b + (a + '=' + encodeURIComponent(d));
    }
    for (var b = '', e = 0, f = a.length; e < f; e++) {
      var g = a[e],
        h = g[0],
        g = g[1];
      g != i && g !== u && (b = c(h, g, b));
    }
    return (function(a) {
      var d = m.Ba(),
        a = a ? (a += '|') : a;
      return a + ('TS=' + d);
    })(b);
  }
  if (!s) throw 'Visitor requires Adobe Marketing Cloud Org ID';
  var a = this;
  a.version = '2.0.0';
  var n = window,
    l = n.Visitor;
  l.version = a.version;
  n.s_c_in || ((n.s_c_il = []), (n.s_c_in = 0));
  a._c = 'Visitor';
  a._il = n.s_c_il;
  a._in = n.s_c_in;
  a._il[a._in] = a;
  n.s_c_in++;
  a.la = { Ja: [] };
  var v = n.document,
    i = l.Kb;
  i || (i = null);
  var E = l.Lb;
  E || (E = void 0);
  var j = l.Ta;
  j || (j = !0);
  var k = l.Qa;
  k || (k = !1);
  a.ia = function(a) {
    var c = 0,
      b,
      e;
    if (a)
      for (b = 0; b < a.length; b++)
        (e = a.charCodeAt(b)), (c = (c << 5) - c + e), (c &= c);
    return c;
  };
  a.t = function(a, c) {
    var b = '0123456789',
      e = '',
      f = '',
      g,
      h,
      i = 8,
      k = 10,
      l = 10;
    c === o && (x.isClientSideMarketingCloudVisitorID = j);
    if (1 == a) {
      b += 'ABCDEF';
      for (g = 0; 16 > g; g++)
        (h = Math.floor(Math.random() * i)), (e += b.substring(
          h,
          h + 1
        )), (h = Math.floor(Math.random() * i)), (f += b.substring(
          h,
          h + 1
        )), (i = 16);
      return e + '-' + f;
    }
    for (g = 0; 19 > g; g++)
      (h = Math.floor(Math.random() * k)), (e += b.substring(h, h + 1)), 0 ==
        g && 9 == h
        ? (k = 3)
        : (1 == g || 2 == g) && 10 != k && 2 > h
          ? (k = 10)
          : 2 < g && (k = 10), (h = Math.floor(
        Math.random() * l
      )), (f += b.substring(h, h + 1)), 0 == g && 9 == h
        ? (l = 3)
        : (1 == g || 2 == g) && 10 != l && 2 > h ? (l = 10) : 2 < g && (l = 10);
    return e + f;
  };
  a.Wa = function() {
    var a;
    !a && n.location && (a = n.location.hostname);
    if (a)
      if (/^[0-9.]+$/.test(a)) a = '';
      else {
        var c = a.split('.'),
          b = c.length - 1,
          e = b - 1;
        1 < b &&
          2 >= c[b].length &&
          (2 == c[b - 1].length ||
            0 >
              ',ac,ad,ae,af,ag,ai,al,am,an,ao,aq,ar,as,at,au,aw,ax,az,ba,bb,be,bf,bg,bh,bi,bj,bm,bo,br,bs,bt,bv,bw,by,bz,ca,cc,cd,cf,cg,ch,ci,cl,cm,cn,co,cr,cu,cv,cw,cx,cz,de,dj,dk,dm,do,dz,ec,ee,eg,es,et,eu,fi,fm,fo,fr,ga,gb,gd,ge,gf,gg,gh,gi,gl,gm,gn,gp,gq,gr,gs,gt,gw,gy,hk,hm,hn,hr,ht,hu,id,ie,im,in,io,iq,ir,is,it,je,jo,jp,kg,ki,km,kn,kp,kr,ky,kz,la,lb,lc,li,lk,lr,ls,lt,lu,lv,ly,ma,mc,md,me,mg,mh,mk,ml,mn,mo,mp,mq,mr,ms,mt,mu,mv,mw,mx,my,na,nc,ne,nf,ng,nl,no,nr,nu,nz,om,pa,pe,pf,ph,pk,pl,pm,pn,pr,ps,pt,pw,py,qa,re,ro,rs,ru,rw,sa,sb,sc,sd,se,sg,sh,si,sj,sk,sl,sm,sn,so,sr,st,su,sv,sx,sy,sz,tc,td,tf,tg,th,tj,tk,tl,tm,tn,to,tp,tr,tt,tv,tw,tz,ua,ug,uk,us,uy,uz,va,vc,ve,vg,vi,vn,vu,wf,ws,yt,'.indexOf(
                ',' + c[b] + ','
              )) &&
          e--;
        if (0 < e) for (a = ''; b >= e; ) (a = c[b] + (a ? '.' : '') + a), b--;
      }
    return a;
  };
  a.cookieRead = function(a) {
    var a = encodeURIComponent(a),
      c = (';' + v.cookie).split(' ').join(';'),
      b = c.indexOf(';' + a + '='),
      e = 0 > b ? b : c.indexOf(';', b + 1);
    return 0 > b
      ? ''
      : decodeURIComponent(c.substring(b + 2 + a.length, 0 > e ? c.length : e));
  };
  a.cookieWrite = function(d, c, b) {
    var e = a.cookieLifetime,
      f,
      c = '' + c,
      e = e ? ('' + e).toUpperCase() : '';
    b && 'SESSION' != e && 'NONE' != e
      ? (f = '' != c ? parseInt(e ? e : 0, 10) : -60)
        ? ((b = new Date()), b.setTime(b.getTime() + 1e3 * f))
        : 1 == b &&
          (
            (b = new Date()),
            (f = b.getYear()),
            b.setYear(f + 2 + (1900 > f ? 1900 : 0))
          )
      : (b = 0);
    return d && 'NONE' != e
      ? (
          (v.cookie =
            encodeURIComponent(d) +
            '=' +
            encodeURIComponent(c) +
            '; path=/;' +
            (b ? ' expires=' + b.toGMTString() + ';' : '') +
            (a.cookieDomain ? ' domain=' + a.cookieDomain + ';' : '')),
          a.cookieRead(d) == c
        )
      : 0;
  };
  a.h = i;
  a.z = function(a, c) {
    try {
      'function' == typeof a ? a.apply(n, c) : a[1].apply(a[0], c);
    } catch (b) {}
  };
  a.L = function(d, c) {
    c && (a.h == i && (a.h = {}), a.h[d] == E && (a.h[d] = []), a.h[d].push(c));
  };
  a.s = function(d, c) {
    if (a.h != i) {
      var b = a.h[d];
      if (b) for (; 0 < b.length; ) a.z(b.shift(), c);
    }
  };
  a.w = function(a, c, b, e) {
    b = encodeURIComponent(c) + '=' + encodeURIComponent(b);
    c = m.Bb(a);
    a = m.sb(a);
    if (-1 === a.indexOf('?')) return a + '?' + b + c;
    var f = a.split('?'),
      a = f[0] + '?',
      e = m.fb(f[1], b, e);
    return a + e + c;
  };
  a.Va = function(a, c) {
    var b = RegExp('[\\?&#]' + c + '=([^&#]*)').exec(a);
    if (b && b.length) return decodeURIComponent(b[1]);
  };
  a.bb = function() {
    var d = i,
      c = n.location.href;
    try {
      var b = a.Va(c, p.aa);
      if (b)
        for (var d = {}, e = b.split('|'), c = 0, f = e.length; c < f; c++) {
          var g = e[c].split('=');
          d[g[0]] = decodeURIComponent(g[1]);
        }
      return d;
    } catch (h) {}
  };
  a.ea = function() {
    var d = a.bb();
    if (d && d.TS && !(Math.floor((m.Ba() - d.TS) / 60) > p.Oa || d[I] !== s)) {
      var c = d[o],
        b = a.setMarketingCloudVisitorID;
      c && c.match(p.v) && b(c);
      a.j(t, -1);
      d = d[r];
      c = a.setAnalyticsVisitorID;
      d && d.match(p.v) && c(d);
    }
  };
  a.ab = function(d) {
    function c(d) {
      m.Ea(d) && a.setCustomerIDs(d);
    }
    function b(d) {
      d = d || {};
      a._supplementalDataIDCurrent = d.supplementalDataIDCurrent || '';
      a._supplementalDataIDCurrentConsumed =
        d.supplementalDataIDCurrentConsumed || {};
      a._supplementalDataIDLast = d.supplementalDataIDLast || '';
      a._supplementalDataIDLastConsumed =
        d.supplementalDataIDLastConsumed || {};
    }
    if (d)
      try {
        if (((d = m.Ea(d) ? d : m.Cb(d)), d[a.marketingCloudOrgID])) {
          var e = d[a.marketingCloudOrgID];
          c(e.customerIDs);
          b(e.sdid);
        }
      } catch (f) {
        throw Error('`serverState` has an invalid format.');
      }
  };
  a.l = i;
  a.Ya = function(d, c, b, e) {
    c = a.w(c, 'd_fieldgroup', d, 1);
    e.url = a.w(e.url, 'd_fieldgroup', d, 1);
    e.m = a.w(e.m, 'd_fieldgroup', d, 1);
    x.d[d] = j;
    e === Object(e) && e.m && 'XMLHttpRequest' === a.na.F.G
      ? a.na.ob(e, b, d)
      : a.useCORSOnly || a.Za(d, c, b);
  };
  a.Za = function(d, c, b) {
    var e = 0,
      f = 0,
      g;
    if (c && v) {
      for (g = 0; !e && 2 > g; ) {
        try {
          e =
            (e = v.getElementsByTagName(0 < g ? 'HEAD' : 'head')) &&
            0 < e.length
              ? e[0]
              : 0;
        } catch (h) {
          e = 0;
        }
        g++;
      }
      if (!e)
        try {
          v.body && (e = v.body);
        } catch (k) {
          e = 0;
        }
      if (e)
        for (g = 0; !f && 2 > g; ) {
          try {
            f = v.createElement(0 < g ? 'SCRIPT' : 'script');
          } catch (l) {
            f = 0;
          }
          g++;
        }
    }
    !c || !e || !f
      ? b && b()
      : (
          (f.type = 'text/javascript'),
          (f.src = c),
          e.firstChild ? e.insertBefore(f, e.firstChild) : e.appendChild(f),
          (e = a.loadTimeout),
          (q.d[d] = { requestStart: q.p(), url: c, va: e, ta: q.Aa(), ua: 0 }),
          b &&
            (
              a.l == i && (a.l = {}),
              (a.l[d] = setTimeout(function() {
                b(j);
              }, e))
            ),
          a.la.Ja.push(c)
        );
  };
  a.Ua = function(d) {
    a.l != i && a.l[d] && (clearTimeout(a.l[d]), (a.l[d] = 0));
  };
  a.ja = k;
  a.ka = k;
  a.isAllowed = function() {
    if (
      !a.ja &&
      (
        (a.ja = j),
        a.cookieRead(a.cookieName) || a.cookieWrite(a.cookieName, 'T', 1)
      )
    )
      a.ka = j;
    return a.ka;
  };
  a.b = i;
  a.c = i;
  var F = l.bc;
  F || (F = 'MC');
  var o = l.ic;
  o || (o = 'MCMID');
  var I = l.fc;
  I || (I = 'MCORGID');
  var G = l.cc;
  G || (G = 'MCCIDH');
  var L = l.gc;
  L || (L = 'MCSYNCS');
  var J = l.hc;
  J || (J = 'MCSYNCSOP');
  var K = l.dc;
  K || (K = 'MCIDTS');
  var B = l.ec;
  B || (B = 'MCOPTOUT');
  var D = l.$b;
  D || (D = 'A');
  var r = l.Xb;
  r || (r = 'MCAID');
  var C = l.ac;
  C || (C = 'AAM');
  var A = l.Zb;
  A || (A = 'MCAAMLH');
  var t = l.Yb;
  t || (t = 'MCAAMB');
  var u = l.jc;
  u || (u = 'NONE');
  a.M = 0;
  a.ha = function() {
    if (!a.M) {
      var d = a.version;
      a.audienceManagerServer && (d += '|' + a.audienceManagerServer);
      a.audienceManagerServerSecure &&
        (d += '|' + a.audienceManagerServerSecure);
      a.M = a.ia(d);
    }
    return a.M;
  };
  a.ma = k;
  a.f = function() {
    if (!a.ma) {
      a.ma = j;
      var d = a.ha(),
        c = k,
        b = a.cookieRead(a.cookieName),
        e,
        f,
        g,
        h,
        l = new Date();
      a.b == i && (a.b = {});
      if (b && 'T' != b) {
        b = b.split('|');
        b[0].match(/^[\-0-9]+$/) &&
          (parseInt(b[0], 10) != d && (c = j), b.shift());
        1 == b.length % 2 && b.pop();
        for (d = 0; d < b.length; d += 2)
          if (
            (
              (e = b[d].split('-')),
              (f = e[0]),
              (g = b[d + 1]),
              1 < e.length
                ? ((h = parseInt(e[1], 10)), (e = 0 < e[1].indexOf('s')))
                : ((h = 0), (e = k)),
              c && (f == G && (g = ''), 0 < h && (h = l.getTime() / 1e3 - 60)),
              f &&
                g &&
                (
                  a.e(f, g, 1),
                  0 < h &&
                    (
                      (a.b['expire' + f] = h + (e ? 's' : '')),
                      l.getTime() >= 1e3 * h ||
                        (e && !a.cookieRead(a.sessionCookieName))
                    )
                )
            )
          )
            a.c || (a.c = {}), (a.c[f] = j);
      }
      if (!a.a(r) && m.o() && (b = a.cookieRead('s_vi')))
        (b = b.split('|')), 1 < b.length &&
          0 <= b[0].indexOf('v1') &&
          (
            (g = b[1]),
            (d = g.indexOf('[')),
            0 <= d && (g = g.substring(0, d)),
            g && g.match(p.v) && a.e(r, g)
          );
    }
  };
  a._appendVersionTo = function(d) {
    var c = 'vVersion|' + a.version,
      b = Boolean(d) ? a._getCookieVersion(d) : null;
    b
      ? m.gb(b, a.version) && (d = d.replace(p.da, c))
      : (d += (d ? '|' : '') + c);
    return d;
  };
  a.eb = function() {
    var d = a.ha(),
      c,
      b;
    for (c in a.b)
      !Object.prototype[c] &&
        a.b[c] &&
        'expire' != c.substring(0, 6) &&
        (
          (b = a.b[c]),
          (d +=
            (d ? '|' : '') +
            c +
            (a.b['expire' + c] ? '-' + a.b['expire' + c] : '') +
            '|' +
            b)
        );
    d = a._appendVersionTo(d);
    a.cookieWrite(a.cookieName, d, 1);
  };
  a.a = function(d, c) {
    return a.b != i && (c || !a.c || !a.c[d]) ? a.b[d] : i;
  };
  a.e = function(d, c, b) {
    a.b == i && (a.b = {});
    a.b[d] = c;
    b || a.eb();
  };
  a.Xa = function(d, c) {
    var b = a.a(d, c);
    return b ? b.split('*') : i;
  };
  a.cb = function(d, c, b) {
    a.e(d, c ? c.join('*') : '', b);
  };
  a.Rb = function(d, c) {
    var b = a.Xa(d, c);
    if (b) {
      var e = {},
        f;
      for (f = 0; f < b.length; f += 2) e[b[f]] = b[f + 1];
      return e;
    }
    return i;
  };
  a.Tb = function(d, c, b) {
    var e = i,
      f;
    if (c)
      for (f in ((e = []), c)) Object.prototype[f] || (e.push(f), e.push(c[f]));
    a.cb(d, e, b);
  };
  a.j = function(d, c, b) {
    var e = new Date();
    e.setTime(e.getTime() + 1e3 * c);
    a.b == i && (a.b = {});
    a.b['expire' + d] = Math.floor(e.getTime() / 1e3) + (b ? 's' : '');
    0 > c ? (a.c || (a.c = {}), (a.c[d] = j)) : a.c && (a.c[d] = k);
    b &&
      (a.cookieRead(a.sessionCookieName) ||
        a.cookieWrite(a.sessionCookieName, '1'));
  };
  a.ga = function(a) {
    if (
      a &&
      (
        'object' == typeof a &&
          (a = a.d_mid
            ? a.d_mid
            : a.visitorID
              ? a.visitorID
              : a.id ? a.id : a.uuid ? a.uuid : '' + a),
        a && ((a = a.toUpperCase()), 'NOTARGET' == a && (a = u)),
        !a || (a != u && !a.match(p.v))
      )
    )
      a = '';
    return a;
  };
  a.k = function(d, c) {
    a.Ua(d);
    a.i != i && (a.i[d] = k);
    q.d[d] && ((q.d[d].Ib = q.p()), q.J(d));
    x.d[d] && x.La(d, k);
    if (d == F) {
      x.isClientSideMarketingCloudVisitorID !== j &&
        (x.isClientSideMarketingCloudVisitorID = k);
      var b = a.a(o);
      if (!b || a.overwriteCrossDomainMCIDAndAID) {
        b = 'object' == typeof c && c.mid ? c.mid : a.ga(c);
        if (!b) {
          if (a.D) {
            a.getAnalyticsVisitorID(i, k, j);
            return;
          }
          b = a.t(0, o);
        }
        a.e(o, b);
      }
      if (!b || b == u) b = '';
      'object' == typeof c &&
        (
          (c.d_region || c.dcs_region || c.d_blob || c.blob) && a.k(C, c),
          a.D && c.mid && a.k(D, { id: c.id })
        );
      a.s(o, [b]);
    }
    if (d == C && 'object' == typeof c) {
      b = 604800;
      c.id_sync_ttl != E && c.id_sync_ttl && (b = parseInt(c.id_sync_ttl, 10));
      var e = a.a(A);
      e ||
        ((e = c.d_region) || (e = c.dcs_region), e && (a.j(A, b), a.e(A, e)));
      e || (e = '');
      a.s(A, [e]);
      e = a.a(t);
      if (c.d_blob || c.blob)
        (e = c.d_blob) || (e = c.blob), a.j(t, b), a.e(t, e);
      e || (e = '');
      a.s(t, [e]);
      !c.error_msg && a.C && a.e(G, a.C);
    }
    if (d == D) {
      b = a.a(r);
      if (!b || a.overwriteCrossDomainMCIDAndAID)
        (b = a.ga(c)) ? b !== u && a.j(t, -1) : (b = u), a.e(r, b);
      if (!b || b == u) b = '';
      a.s(r, [b]);
    }
    a.idSyncDisableSyncs
      ? (z.Ca = j)
      : (
          (z.Ca = k),
          (b = {}),
          (b.ibs = c.ibs),
          (b.subdomain = c.subdomain),
          z.Db(b)
        );
    if (c === Object(c)) {
      var f;
      a.isAllowed() && (f = a.a(B));
      f ||
        (
          (f = u),
          c.d_optout &&
            c.d_optout instanceof Array &&
            (f = c.d_optout.join(',')),
          (b = parseInt(c.d_ottl, 10)),
          isNaN(b) && (b = 7200),
          a.j(B, b, j),
          a.e(B, f)
        );
      a.s(B, [f]);
    }
  };
  a.i = i;
  a.u = function(d, c, b, e, f) {
    var g = '',
      h,
      k = m.ub(d);
    if (a.isAllowed())
      if (
        (
          a.f(),
          (g = a.a(d, M[d] === j)),
          (!g || (a.c && a.c[d])) && (!a.disableThirdPartyCalls || k)
        )
      ) {
        if (
          (
            d == o || d == B
              ? (h = F)
              : d == A || d == t ? (h = C) : d == r && (h = D),
            h
          )
        ) {
          if (c && (a.i == i || !a.i[h]))
            a.i == i && (a.i = {}), (a.i[h] = j), a.Ya(
              h,
              c,
              function(b) {
                a.a(d) ||
                  (
                    q.d[h] &&
                      ((q.d[h].timeout = q.p()), (q.d[h].tb = !!b), q.J(h)),
                    b && x.La(h, j),
                    (b = ''),
                    d == o
                      ? (b = a.t(0, o))
                      : h == C && (b = { error_msg: 'timeout' }),
                    a.k(h, b)
                  );
              },
              f
            );
          a.L(d, b);
          if (g) return g;
          c || a.k(h, { id: u });
          return '';
        }
      } else
        g ||
          (d === o
            ? (a.L(d, b), (g = a.t(0, o)), a.setMarketingCloudVisitorID(g))
            : d === r
              ? (a.L(d, b), (g = ''), a.setAnalyticsVisitorID(g))
              : ((g = ''), (e = j)));
    if ((d == o || d == r) && g == u) (g = ''), (e = j);
    b && e && a.z(b, [g]);
    return g;
  };
  a._setMarketingCloudFields = function(d) {
    a.f();
    a.k(F, d);
  };
  a.setMarketingCloudVisitorID = function(d) {
    a._setMarketingCloudFields(d);
  };
  a.D = k;
  a.getMarketingCloudVisitorID = function(d, c) {
    if (a.isAllowed()) {
      a.marketingCloudServer &&
        0 > a.marketingCloudServer.indexOf('.demdex.net') &&
        (a.D = j);
      var b = a.B('_setMarketingCloudFields');
      return a.u(o, b.url, d, c, b);
    }
    return '';
  };
  a.$a = function() {
    a.getAudienceManagerBlob();
  };
  l.AuthState = { UNKNOWN: 0, AUTHENTICATED: 1, LOGGED_OUT: 2 };
  a.A = {};
  a.fa = k;
  a.C = '';
  a.setCustomerIDs = function(d) {
    if (a.isAllowed() && d) {
      a.f();
      var c, b;
      for (c in d)
        if (!Object.prototype[c] && (b = d[c]))
          if ('object' == typeof b) {
            var e = {};
            b.id && (e.id = b.id);
            b.authState != E && (e.authState = b.authState);
            a.A[c] = e;
          } else a.A[c] = { id: b };
      var d = a.getCustomerIDs(),
        e = a.a(G),
        f = '';
      e || (e = 0);
      for (c in d)
        Object.prototype[c] ||
          (
            (b = d[c]),
            (f +=
              (f ? '|' : '') +
              c +
              '|' +
              (b.id ? b.id : '') +
              (b.authState ? b.authState : ''))
          );
      a.C = a.ia(f);
      a.C != e && ((a.fa = j), a.$a());
    }
  };
  a.getCustomerIDs = function() {
    a.f();
    var d = {},
      c,
      b;
    for (c in a.A)
      Object.prototype[c] ||
        (
          (b = a.A[c]),
          d[c] || (d[c] = {}),
          b.id && (d[c].id = b.id),
          (d[c].authState =
            b.authState != E ? b.authState : l.AuthState.UNKNOWN)
        );
    return d;
  };
  a._setAnalyticsFields = function(d) {
    a.f();
    a.k(D, d);
  };
  a.setAnalyticsVisitorID = function(d) {
    a._setAnalyticsFields(d);
  };
  a.getAnalyticsVisitorID = function(d, c, b) {
    if (!m.o() && !b) return a.z(d, ['']), '';
    if (a.isAllowed()) {
      var e = '';
      b ||
        (e = a.getMarketingCloudVisitorID(function() {
          a.getAnalyticsVisitorID(d, j);
        }));
      if (e || b) {
        var f = b ? a.marketingCloudServer : a.trackingServer,
          g = '';
        a.loadSSL &&
          (b
            ? a.marketingCloudServerSecure && (f = a.marketingCloudServerSecure)
            : a.trackingServerSecure && (f = a.trackingServerSecure));
        var h = {};
        if (f) {
          var f = 'http' + (a.loadSSL ? 's' : '') + '://' + f + '/id',
            e =
              'd_visid_ver=' +
              a.version +
              '&mcorgid=' +
              encodeURIComponent(a.marketingCloudOrgID) +
              (e ? '&mid=' + encodeURIComponent(e) : '') +
              (a.idSyncDisable3rdPartySyncing ? '&d_coppa=true' : ''),
            i = [
              's_c_il',
              a._in,
              '_set' + (b ? 'MarketingCloud' : 'Analytics') + 'Fields',
            ],
            g =
              f +
              '?' +
              e +
              '&callback=s_c_il%5B' +
              a._in +
              '%5D._set' +
              (b ? 'MarketingCloud' : 'Analytics') +
              'Fields';
          h.m = f + '?' + e;
          h.qa = i;
        }
        h.url = g;
        return a.u(b ? o : r, g, d, c, h);
      }
    }
    return '';
  };
  a._setAudienceManagerFields = function(d) {
    a.f();
    a.k(C, d);
  };
  a.B = function(d) {
    var c = a.audienceManagerServer,
      b = '',
      e = a.a(o),
      f = a.a(t, j),
      g = a.a(r),
      g = g && g != u ? '&d_cid_ic=AVID%01' + encodeURIComponent(g) : '';
    a.loadSSL &&
      a.audienceManagerServerSecure &&
      (c = a.audienceManagerServerSecure);
    if (c) {
      var b = a.getCustomerIDs(),
        h,
        i;
      if (b)
        for (h in b)
          Object.prototype[h] ||
            (
              (i = b[h]),
              (g +=
                '&d_cid_ic=' +
                encodeURIComponent(h) +
                '%01' +
                encodeURIComponent(i.id ? i.id : '') +
                (i.authState ? '%01' + i.authState : ''))
            );
      d || (d = '_setAudienceManagerFields');
      c = 'http' + (a.loadSSL ? 's' : '') + '://' + c + '/id';
      e =
        'd_visid_ver=' +
        a.version +
        '&d_rtbd=json&d_ver=2' +
        (!e && a.D ? '&d_verify=1' : '') +
        '&d_orgid=' +
        encodeURIComponent(a.marketingCloudOrgID) +
        '&d_nsid=' +
        (a.idSyncContainerID || 0) +
        (e ? '&d_mid=' + encodeURIComponent(e) : '') +
        (a.idSyncDisable3rdPartySyncing ? '&d_coppa=true' : '') +
        (f ? '&d_blob=' + encodeURIComponent(f) : '') +
        g;
      f = ['s_c_il', a._in, d];
      b = c + '?' + e + '&d_cb=s_c_il%5B' + a._in + '%5D.' + d;
      return {
        url: b,
        m: c + '?' + e,
        qa: f,
      };
    }
    return { url: b };
  };
  a.getAudienceManagerLocationHint = function(d, c) {
    if (
      a.isAllowed() &&
      a.getMarketingCloudVisitorID(function() {
        a.getAudienceManagerLocationHint(d, j);
      })
    ) {
      var b = a.a(r);
      !b &&
        m.o() &&
        (b = a.getAnalyticsVisitorID(function() {
          a.getAudienceManagerLocationHint(d, j);
        }));
      if (b || !m.o()) return (b = a.B()), a.u(A, b.url, d, c, b);
    }
    return '';
  };
  a.getLocationHint = a.getAudienceManagerLocationHint;
  a.getAudienceManagerBlob = function(d, c) {
    if (
      a.isAllowed() &&
      a.getMarketingCloudVisitorID(function() {
        a.getAudienceManagerBlob(d, j);
      })
    ) {
      var b = a.a(r);
      !b &&
        m.o() &&
        (b = a.getAnalyticsVisitorID(function() {
          a.getAudienceManagerBlob(d, j);
        }));
      if (b || !m.o()) {
        var b = a.B(),
          e = b.url;
        a.fa && a.j(t, -1);
        return a.u(t, e, d, c, b);
      }
    }
    return '';
  };
  a._supplementalDataIDCurrent = '';
  a._supplementalDataIDCurrentConsumed = {};
  a._supplementalDataIDLast = '';
  a._supplementalDataIDLastConsumed = {};
  a.getSupplementalDataID = function(d, c) {
    !a._supplementalDataIDCurrent &&
      !c &&
      (a._supplementalDataIDCurrent = a.t(1));
    var b = a._supplementalDataIDCurrent;
    a._supplementalDataIDLast && !a._supplementalDataIDLastConsumed[d]
      ? (
          (b = a._supplementalDataIDLast),
          (a._supplementalDataIDLastConsumed[d] = j)
        )
      : b &&
        (
          a._supplementalDataIDCurrentConsumed[d] &&
            (
              (a._supplementalDataIDLast = a._supplementalDataIDCurrent),
              (a._supplementalDataIDLastConsumed =
                a._supplementalDataIDCurrentConsumed),
              (a._supplementalDataIDCurrent = b = !c ? a.t(1) : ''),
              (a._supplementalDataIDCurrentConsumed = {})
            ),
          b && (a._supplementalDataIDCurrentConsumed[d] = j)
        );
    return b;
  };
  l.OptOut = { GLOBAL: 'global' };
  a.getOptOut = function(d, c) {
    if (a.isAllowed()) {
      var b = a.B('_setMarketingCloudFields');
      return a.u(B, b.url, d, c, b);
    }
    return '';
  };
  a.isOptedOut = function(d, c, b) {
    return a.isAllowed()
      ? (
          c || (c = l.OptOut.GLOBAL),
          (b = a.getOptOut(function(b) {
            a.z(d, [b == l.OptOut.GLOBAL || 0 <= b.indexOf(c)]);
          }, b))
            ? b == l.OptOut.GLOBAL || 0 <= b.indexOf(c)
            : i
        )
      : k;
  };
  a.appendVisitorIDsTo = function(d) {
    var c = p.aa,
      b = y([[o, a.a(o)], [r, a.a(r)], [I, a.marketingCloudOrgID]]);
    try {
      return a.w(d, c, b);
    } catch (e) {
      return d;
    }
  };
  var p = {
    r: !!n.postMessage,
    Pa: 1,
    ca: 864e5,
    aa: 'adobe_mc',
    v: /^[0-9a-fA-F\-]+$/,
    Oa: 5,
    Ra: /^\d+$/,
    da: /vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/,
  };
  a.Mb = p;
  a.pa = {
    postMessage: function(a, c, b) {
      var e = 1;
      c &&
        (p.r
          ? b.postMessage(a, c.replace(/([^:]+:\/\/[^\/]+).*/, '$1'))
          : c &&
            (b.location =
              c.replace(/#.*$/, '') + '#' + +new Date() + e++ + '&' + a));
    },
    W: function(a, c) {
      var b;
      try {
        if (p.r)
          if (
            (
              a &&
                (b = function(b) {
                  if (
                    ('string' === typeof c && b.origin !== c) ||
                    ('[object Function]' ===
                      Object.prototype.toString.call(c) &&
                      !1 === c(b.origin))
                  )
                    return !1;
                  a(b);
                }),
              window.addEventListener
            )
          )
            window[a ? 'addEventListener' : 'removeEventListener'](
              'message',
              b,
              !1
            );
          else window[a ? 'attachEvent' : 'detachEvent']('onmessage', b);
      } catch (e) {}
    },
  };
  var m = {
    N: (function() {
      if (v.addEventListener)
        return function(a, c, b) {
          a.addEventListener(
            c,
            function(a) {
              'function' === typeof b && b(a);
            },
            k
          );
        };
      if (v.attachEvent)
        return function(a, c, b) {
          a.attachEvent('on' + c, function(a) {
            'function' === typeof b && b(a);
          });
        };
    })(),
    map: function(a, c) {
      if (Array.prototype.map) return a.map(c);
      if (void 0 === a || a === i) throw new TypeError();
      var b = Object(a),
        e = b.length >>> 0;
      if ('function' !== typeof c) throw new TypeError();
      for (var f = Array(e), g = 0; g < e; g++)
        g in b && (f[g] = c.call(c, b[g], g, b));
      return f;
    },
    xa: function(a, c) {
      return this.map(a, function(a) {
        return encodeURIComponent(a);
      }).join(c);
    },
    Bb: function(a) {
      var c = a.indexOf('#');
      return 0 < c ? a.substr(c) : '';
    },
    sb: function(a) {
      var c = a.indexOf('#');
      return 0 < c ? a.substr(0, c) : a;
    },
    fb: function(a, c, b) {
      a = a.split('&');
      b = b != i ? b : a.length;
      a.splice(b, 0, c);
      return a.join('&');
    },
    ub: function(d, c, b) {
      if (d !== r) return k;
      c || (c = a.trackingServer);
      b || (b = a.trackingServerSecure);
      d = a.loadSSL ? b : c;
      return 'string' === typeof d && d.length
        ? 0 > d.indexOf('2o7.net') && 0 > d.indexOf('omtrdc.net')
        : k;
    },
    Ea: function(a) {
      return Boolean(a && a === Object(a));
    },
    vb: function(d, c) {
      return 0 > a._compareVersions(d, c);
    },
    gb: function(d, c) {
      return 0 !== a._compareVersions(d, c);
    },
    Hb: function(a) {
      document.cookie =
        encodeURIComponent(a) +
        '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;';
    },
    o: function() {
      return !!a.trackingServer || !!a.trackingServerSecure;
    },
    Cb: function(a, c) {
      function b(a, d) {
        var e,
          i,
          j = a[d];
        if (j && 'object' === typeof j)
          for (e in j)
            Object.prototype.hasOwnProperty.call(j, e) &&
              ((i = b(j, e)), void 0 !== i ? (j[e] = i) : delete j[e]);
        return c.call(a, d, j);
      }
      if ('object' === typeof JSON && 'function' === typeof JSON.parse)
        return JSON.parse(a, c);
      var e;
      e = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;
      a = '' + a;
      e.lastIndex = 0;
      e.test(a) &&
        (a = a.replace(e, function(a) {
          return '\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);
        }));
      if (
        /^[\],:{}\s]*$/.test(
          a
            .replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, '@')
            .replace(
              /"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
              ']'
            )
            .replace(/(?:^|:|,)(?:\s*\[)+/g, '')
        )
      )
        return (e = eval('(' + a + ')')), 'function' === typeof c
          ? b({ '': e }, '')
          : e;
      throw new SyntaxError('JSON.parse');
    },
    Ba: function() {
      return Math.round(new Date().getTime() / 1e3);
    },
  };
  a.Sb = m;
  a.na = {
    F: (function() {
      var a = 'none',
        c = j;
      'undefined' !== typeof XMLHttpRequest &&
        XMLHttpRequest === Object(XMLHttpRequest) &&
        (
          'withCredentials' in new XMLHttpRequest()
            ? (a = 'XMLHttpRequest')
            : 'undefined' !== typeof XDomainRequest &&
              XDomainRequest === Object(XDomainRequest) &&
              (c = k),
          0 <
            Object.prototype.toString.call(window.Jb).indexOf('Constructor') &&
            (c = k)
        );
      return { G: a, Vb: c };
    })(),
    pb: function() {
      return 'none' === this.F.G ? i : new window[this.F.G]();
    },
    ob: function(d, c, b) {
      var e = this;
      c && (d.T = c);
      try {
        var f = this.pb();
        f.open('get', d.m + '&ts=' + new Date().getTime(), j);
        'XMLHttpRequest' === this.F.G &&
          (
            (f.withCredentials = j),
            (f.timeout = a.loadTimeout),
            f.setRequestHeader(
              'Content-Type',
              'application/x-www-form-urlencoded'
            ),
            (f.onreadystatechange = function() {
              if (4 === this.readyState && 200 === this.status)
                a: {
                  var a;
                  try {
                    if (
                      ((a = JSON.parse(this.responseText)), a !== Object(a))
                    ) {
                      e.n(d, i, 'Response is not JSON');
                      break a;
                    }
                  } catch (b) {
                    e.n(d, b, 'Error parsing response as JSON');
                    break a;
                  }
                  try {
                    for (var c = d.qa, f = window, g = 0; g < c.length; g++)
                      f = f[c[g]];
                    f(a);
                  } catch (j) {
                    e.n(d, j, 'Error forming callback function');
                  }
                }
            })
          );
        f.onerror = function(a) {
          e.n(d, a, 'onerror');
        };
        f.ontimeout = function(a) {
          e.n(d, a, 'ontimeout');
        };
        f.send();
        q.d[b] = {
          requestStart: q.p(),
          url: d.m,
          va: f.timeout,
          ta: q.Aa(),
          ua: 1,
        };
        a.la.Ja.push(d.m);
      } catch (g) {
        this.n(d, g, 'try-catch');
      }
    },
    n: function(d, c, b) {
      a.CORSErrors.push({ Wb: d, error: c, description: b });
      d.T && ('ontimeout' === b ? d.T(j) : d.T(k));
    },
  };
  var z = {
    Sa: 3e4,
    ba: 649,
    Na: k,
    id: i,
    V: [],
    R: i,
    za: function(a) {
      if ('string' === typeof a) return (a = a.split('/')), a[0] + '//' + a[2];
    },
    g: i,
    url: i,
    qb: function() {
      var d = 'http://fast.',
        c =
          '?d_nsid=' +
          a.idSyncContainerID +
          '#' +
          encodeURIComponent(v.location.href);
      this.g || (this.g = 'nosubdomainreturned');
      a.loadSSL && (d = a.idSyncSSLUseAkamai ? 'https://fast.' : 'https://');
      d = d + this.g + '.demdex.net/dest5.html' + c;
      this.R = this.za(d);
      this.id =
        'destination_publishing_iframe_' + this.g + '_' + a.idSyncContainerID;
      return d;
    },
    jb: function() {
      var d =
        '?d_nsid=' +
        a.idSyncContainerID +
        '#' +
        encodeURIComponent(v.location.href);
      'string' === typeof a.K &&
        a.K.length &&
        (
          (this.id =
            'destination_publishing_iframe_' +
            new Date().getTime() +
            '_' +
            a.idSyncContainerID),
          (this.R = this.za(a.K)),
          (this.url = a.K + d)
        );
    },
    Ca: i,
    wa: k,
    Y: k,
    H: i,
    kc: i,
    Ab: i,
    lc: i,
    X: k,
    I: [],
    yb: [],
    zb: [],
    Fa: p.r ? 15 : 100,
    S: [],
    wb: [],
    ra: j,
    Ia: k,
    Ha: function() {
      return (
        !a.idSyncDisable3rdPartySyncing &&
        (this.wa || a.Ob) &&
        this.g &&
        'nosubdomainreturned' !== this.g &&
        this.url &&
        !this.Y
      );
    },
    P: function() {
      function a() {
        e = document.createElement('iframe');
        e.sandbox = 'allow-scripts allow-same-origin';
        e.title = 'Adobe ID Syncing iFrame';
        e.id = b.id;
        e.style.cssText = 'display: none; width: 0; height: 0;';
        e.src = b.url;
        b.Ab = j;
        c();
        document.body.appendChild(e);
      }
      function c() {
        m.N(e, 'load', function() {
          e.className = 'aamIframeLoaded';
          b.H = j;
          b.q();
        });
      }
      this.Y = j;
      var b = this,
        e = document.getElementById(this.id);
      e
        ? 'IFRAME' !== e.nodeName
          ? ((this.id += '_2'), a())
          : 'aamIframeLoaded' !== e.className
            ? c()
            : ((this.H = j), (this.Da = e), this.q())
        : a();
      this.Da = e;
    },
    q: function(d) {
      var c = this;
      d === Object(d) && (this.S.push(d), this.Eb(d));
      if ((this.Ia || !p.r || this.H) && this.S.length)
        this.J(this.S.shift()), this.q();
      !a.idSyncDisableSyncs &&
        this.H &&
        this.I.length &&
        !this.X &&
        (
          this.Na ||
            (
              (this.Na = j),
              setTimeout(function() {
                c.Fa = p.r ? 15 : 150;
              }, this.Sa)
            ),
          (this.X = j),
          this.Ka()
        );
    },
    Eb: function(a) {
      var c, b, e;
      if ((c = a.ibs) && c instanceof Array && (b = c.length))
        for (a = 0; a < b; a++)
          (e = c[a]), e.syncOnPage && this.sa(e, '', 'syncOnPage');
    },
    J: function(a) {
      var c = encodeURIComponent,
        b,
        e,
        f,
        g,
        h;
      if ((b = a.ibs) && b instanceof Array && (e = b.length))
        for (f = 0; f < e; f++)
          (g = b[f]), (h = [
            c('ibs'),
            c(g.id || ''),
            c(g.tag || ''),
            m.xa(g.url || [], ','),
            c(g.ttl || ''),
            '',
            '',
            g.fireURLSync ? 'true' : 'false',
          ]), g.syncOnPage ||
            (this.ra
              ? this.O(h.join('|'))
              : g.fireURLSync && this.sa(g, h.join('|')));
      this.wb.push(a);
    },
    sa: function(d, c, b) {
      var e = (b = 'syncOnPage' === b ? j : k) ? J : L;
      a.f();
      var f = a.a(e),
        g = k,
        h = k,
        i = Math.ceil(new Date().getTime() / p.ca);
      f
        ? (
            (f = f.split('*')),
            (h = this.Fb(f, d.id, i)),
            (g = h.mb),
            (h = h.nb),
            (!g || !h) && this.ya(b, d, c, f, e, i)
          )
        : ((f = []), this.ya(b, d, c, f, e, i));
    },
    Fb: function(a, c, b) {
      var e = k,
        f = k,
        g,
        h,
        i;
      for (h = 0; h < a.length; h++)
        (g = a[h]), (i = parseInt(g.split('-')[1], 10)), g.match('^' + c + '-')
          ? ((e = j), b < i ? (f = j) : (a.splice(h, 1), h--))
          : b >= i && (a.splice(h, 1), h--);
      return { mb: e, nb: f };
    },
    xb: function(a) {
      if (a.join('*').length > this.ba)
        for (
          a.sort(function(a, b) {
            return (
              parseInt(a.split('-')[1], 10) - parseInt(b.split('-')[1], 10)
            );
          });
          a.join('*').length > this.ba;

        )
          a.shift();
    },
    ya: function(d, c, b, e, f, g) {
      var h = this;
      if (d) {
        if ('img' === c.tag) {
          var d = c.url,
            b = a.loadSSL ? 'https:' : 'http:',
            j,
            k,
            l;
          for (e = 0, j = d.length; e < j; e++) {
            k = d[e];
            l = /^\/\//.test(k);
            var n = new Image();
            m.N(
              n,
              'load',
              (function(b, d, c, e) {
                return function() {
                  h.V[b] = i;
                  a.f();
                  var g = a.a(f),
                    j = [];
                  if (g) {
                    var g = g.split('*'),
                      k,
                      l,
                      m;
                    for (k = 0, l = g.length; k < l; k++)
                      (m = g[k]), m.match('^' + d.id + '-') || j.push(m);
                  }
                  h.Ma(j, d, c, e);
                };
              })(this.V.length, c, f, g)
            );
            n.src = (l ? b : '') + k;
            this.V.push(n);
          }
        }
      } else this.O(b), this.Ma(e, c, f, g);
    },
    O: function(d) {
      var c = encodeURIComponent;
      this.I.push((a.Pb ? c('---destpub-debug---') : c('---destpub---')) + d);
    },
    Ma: function(d, c, b, e) {
      d.push(c.id + '-' + (e + Math.ceil(c.ttl / 60 / 24)));
      this.xb(d);
      a.e(b, d.join('*'));
    },
    Ka: function() {
      var d = this,
        c;
      this.I.length
        ? (
            (c = this.I.shift()),
            a.pa.postMessage(c, this.url, this.Da.contentWindow),
            this.yb.push(c),
            setTimeout(function() {
              d.Ka();
            }, this.Fa)
          )
        : (this.X = k);
    },
    W: function(a) {
      var c = /^---destpub-to-parent---/;
      'string' === typeof a &&
        c.test(a) &&
        (
          (c = a.replace(c, '').split('|')),
          'canSetThirdPartyCookies' === c[0] &&
            ((this.ra = 'true' === c[1] ? j : k), (this.Ia = j), this.q()),
          this.zb.push(a)
        );
    },
    Db: function(d) {
      if (this.url === i || (d.subdomain && 'nosubdomainreturned' === this.g))
        (this.g =
          'string' === typeof a.oa && a.oa.length
            ? a.oa
            : d.subdomain || ''), (this.url = this.qb());
      d.ibs instanceof Array && d.ibs.length && (this.wa = j);
      this.Ha() &&
        (a.idSyncAttachIframeOnWindowLoad
          ? (l.$ || 'complete' === v.readyState || 'loaded' === v.readyState) &&
            this.P()
          : this.hb());
      'function' === typeof a.idSyncIDCallResult
        ? a.idSyncIDCallResult(d)
        : this.q(d);
      'function' === typeof a.idSyncAfterIDCallResult &&
        a.idSyncAfterIDCallResult(d);
    },
    ib: function(d, c) {
      return a.Qb || !d || c - d > p.Pa;
    },
    hb: function() {
      function a() {
        c.Y || (document.body ? c.P() : setTimeout(a, 30));
      }
      var c = this;
      a();
    },
  };
  a.Nb = z;
  a.timeoutMetricsLog = [];
  var q = {
    lb: window.performance && window.performance.timing ? 1 : 0,
    Ga:
      window.performance && window.performance.timing
        ? window.performance.timing
        : i,
    Z: i,
    Q: i,
    d: {},
    U: [],
    send: function(d) {
      if (a.takeTimeoutMetrics && d === Object(d)) {
        var c = [],
          b = encodeURIComponent,
          e;
        for (e in d) d.hasOwnProperty(e) && c.push(b(e) + '=' + b(d[e]));
        d =
          'http' +
          (a.loadSSL ? 's' : '') +
          '://dpm.demdex.net/event?d_visid_ver=' +
          a.version +
          '&d_visid_stg_timeout=' +
          a.loadTimeout +
          '&' +
          c.join('&') +
          '&d_orgid=' +
          b(a.marketingCloudOrgID) +
          '&d_timingapi=' +
          this.lb +
          '&d_winload=' +
          this.rb() +
          '&d_ld=' +
          this.p();
        new Image().src = d;
        a.timeoutMetricsLog.push(d);
      }
    },
    rb: function() {
      this.Q === i &&
        (this.Q = this.Ga ? this.Z - this.Ga.navigationStart : this.Z - l.kb);
      return this.Q;
    },
    p: function() {
      return new Date().getTime();
    },
    J: function(a) {
      var c = this.d[a],
        b = {};
      b.d_visid_stg_timeout_captured = c.va;
      b.d_visid_cors = c.ua;
      b.d_fieldgroup = a;
      b.d_settimeout_overriden = c.ta;
      c.timeout
        ? c.tb
          ? (
              (b.d_visid_timedout = 1),
              (b.d_visid_timeout = c.timeout - c.requestStart),
              (b.d_visid_response = -1)
            )
          : (
              (b.d_visid_timedout = 'n/a'),
              (b.d_visid_timeout = 'n/a'),
              (b.d_visid_response = 'n/a')
            )
        : (
            (b.d_visid_timedout = 0),
            (b.d_visid_timeout = -1),
            (b.d_visid_response = c.Ib - c.requestStart)
          );
      b.d_visid_url = c.url;
      l.$ ? this.send(b) : this.U.push(b);
      delete this.d[a];
    },
    Gb: function() {
      for (var a = 0, c = this.U.length; a < c; a++) this.send(this.U[a]);
    },
    Aa: function() {
      return 'function' === typeof setTimeout.toString
        ? -1 < setTimeout.toString().indexOf('[native code]') ? 0 : 1
        : -1;
    },
  };
  a.Ub = q;
  var x = {
    isClientSideMarketingCloudVisitorID: i,
    MCIDCallTimedOut: i,
    AnalyticsIDCallTimedOut: i,
    AAMIDCallTimedOut: i,
    d: {},
    La: function(a, c) {
      switch (a) {
        case F:
          c === k
            ? this.MCIDCallTimedOut !== j && (this.MCIDCallTimedOut = k)
            : (this.MCIDCallTimedOut = c);
          break;
        case D:
          c === k
            ? this.AnalyticsIDCallTimedOut !== j &&
              (this.AnalyticsIDCallTimedOut = k)
            : (this.AnalyticsIDCallTimedOut = c);
          break;
        case C:
          c === k
            ? this.AAMIDCallTimedOut !== j && (this.AAMIDCallTimedOut = k)
            : (this.AAMIDCallTimedOut = c);
      }
    },
  };
  a.isClientSideMarketingCloudVisitorID = function() {
    return x.isClientSideMarketingCloudVisitorID;
  };
  a.MCIDCallTimedOut = function() {
    return x.MCIDCallTimedOut;
  };
  a.AnalyticsIDCallTimedOut = function() {
    return x.AnalyticsIDCallTimedOut;
  };
  a.AAMIDCallTimedOut = function() {
    return x.AAMIDCallTimedOut;
  };
  a.idSyncGetOnPageSyncInfo = function() {
    a.f();
    return a.a(J);
  };
  a.idSyncByURL = function(d) {
    var c,
      b = d || {};
    c = b.minutesToLive;
    var e = '';
    a.idSyncDisableSyncs && (e = e ? e : 'Error: id syncs have been disabled');
    if ('string' !== typeof b.dpid || !b.dpid.length)
      e = e ? e : 'Error: config.dpid is empty';
    if ('string' !== typeof b.url || !b.url.length)
      e = e ? e : 'Error: config.url is empty';
    if ('undefined' === typeof c) c = 20160;
    else if (((c = parseInt(c, 10)), isNaN(c) || 0 >= c))
      e = e ? e : 'Error: config.minutesToLive needs to be a positive number';
    c = { error: e, mc: c };
    if (c.error) return c.error;
    var e = d.url,
      f = encodeURIComponent,
      b = z,
      g,
      e = e.replace(/^https:/, '').replace(/^http:/, '');
    g = m.xa(['', d.dpid, d.dpuuid || ''], ',');
    d = ['ibs', f(d.dpid), 'img', f(e), c.ttl, '', g];
    b.O(d.join('|'));
    b.q();
    return 'Successfully queued';
  };
  a.idSyncByDataSource = function(d) {
    if (d !== Object(d) || 'string' !== typeof d.dpuuid || !d.dpuuid.length)
      return 'Error: config or config.dpuuid is empty';
    d.url = '//dpm.demdex.net/ibs:dpid=' + d.dpid + '&dpuuid=' + d.dpuuid;
    return a.idSyncByURL(d);
  };
  a._compareVersions = function(a, c) {
    if (a === c) return 0;
    var b = a.toString().split('.'),
      e = c.toString().split('.'),
      f;
    a: {
      f = b.concat(e);
      for (var g = 0, h = f.length; g < h; g++)
        if (!p.Ra.test(f[g])) {
          f = k;
          break a;
        }
      f = j;
    }
    if (!f) return NaN;
    for (; b.length < e.length; ) b.push('0');
    for (; e.length < b.length; ) e.push('0');
    a: {
      for (f = 0; f < b.length; f++) {
        g = parseInt(b[f], 10);
        h = parseInt(e[f], 10);
        if (g > h) {
          b = 1;
          break a;
        }
        if (h > g) {
          b = -1;
          break a;
        }
      }
      b = 0;
    }
    return b;
  };
  a._getCookieVersion = function(d) {
    d = d || a.cookieRead(a.cookieName);
    return (d = p.da.exec(d)) && 1 < d.length ? d[1] : null;
  };
  a._resetAmcvCookie = function(d) {
    var c = a._getCookieVersion();
    (!c || m.vb(c, d)) && m.Hb(a.cookieName);
  };
  0 > s.indexOf('@') && (s += '@AdobeOrg');
  a.marketingCloudOrgID = s;
  a.cookieName = 'AMCV_' + s;
  a.sessionCookieName = 'AMCVS_' + s;
  a.cookieDomain = a.Wa();
  a.cookieDomain == n.location.hostname && (a.cookieDomain = '');
  a.loadSSL = 0 <= n.location.protocol.toLowerCase().indexOf('https');
  a.loadTimeout = 3e4;
  a.CORSErrors = [];
  a.marketingCloudServer = a.audienceManagerServer = 'dpm.demdex.net';
  var M = {};
  M[A] = j;
  M[t] = j;
  if (w && 'object' == typeof w) {
    for (var H in w) !Object.prototype[H] && (a[H] = w[H]);
    a.idSyncContainerID = a.idSyncContainerID || 0;
    a.resetBeforeVersion && a._resetAmcvCookie(a.resetBeforeVersion);
    a.ea();
    a.f();
    H = a.a(K);
    var N = Math.ceil(new Date().getTime() / p.ca);
    !a.idSyncDisableSyncs && z.ib(H, N) && (a.j(t, -1), a.e(K, N));
    a.getMarketingCloudVisitorID();
    a.getAudienceManagerLocationHint();
    a.getAudienceManagerBlob();
    a.ab(a.serverState);
  } else a.ea();
  if (!a.idSyncDisableSyncs) {
    z.jb();
    m.N(window, 'load', function() {
      l.$ = j;
      q.Z = q.p();
      q.Gb();
      var a = z;
      a.Ha() && a.P();
    });
    try {
      a.pa.W(function(a) {
        z.W(a.data);
      }, z.R);
    } catch (O) {}
  }
}
Visitor.getInstance = function(s, w) {
  var y,
    a = window.s_c_il,
    n;
  0 > s.indexOf('@') && (s += '@AdobeOrg');
  if (a)
    for (n = 0; n < a.length; n++)
      if ((y = a[n]) && 'Visitor' == y._c && y.marketingCloudOrgID == s)
        return y;
  return new Visitor(s, w);
};
(function() {
  function s() {
    w.$ = y;
  }
  var w = window.Visitor,
    y = w.Ta,
    a = w.Qa;
  y || (y = !0);
  a || (a = !1);
  window.addEventListener
    ? window.addEventListener('load', s)
    : window.attachEvent && window.attachEvent('onload', s);
  w.kb = new Date().getTime();
})();

// App Specific Code Below

var visitor = Visitor.getInstance(__ENV_CONFIG.analytics.orgId, {
  trackingServer: __ENV_CONFIG.analytics.trackingServer, // same as s.trackingServer
  trackingServerSecure: __ENV_CONFIG.analytics.trackingServerSecure, // same as s.trackingServerSecure

  // To enable CNAME support, add the following configuration variables
  // If you are not using CNAME, DO NOT include these variables
  marketingCloudServer: __ENV_CONFIG.analytics.trackingServer,
  marketingCloudServerSecure: __ENV_CONFIG.analytics.trackingServerSecure, // same as s.trackingServerSecure
});
